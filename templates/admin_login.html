<!DOCTYPE html>
<html>
<head>
    <title>Admin Login | ReTech</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="card p-4 shadow mx-auto" style="max-width:400px">
        <h4 class="text-center mb-3">Admin Login</h4>

        <input id="admin_id" class="form-control mb-2" placeholder="Admin ID">
        <input id="password" type="password" class="form-control mb-3" placeholder="Password">

        <button class="btn btn-dark w-100" onclick="adminLogin()">Login</button>
        <div id="msg" class="text-center mt-3 text-danger"></div>
    </div>
</div>

<script>
function adminLogin() {
    fetch("/admin/login", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({
            admin_id: admin_id.value,
            password: password.value
        })
    })
    .then(r => r.json())
    .then(r => {
        if (r.success) {
            window.location.href = "/admin/dashboard";
        } else {
            msg.innerText = r.message;
        }
    });
}
</script>

</body>
</html>
